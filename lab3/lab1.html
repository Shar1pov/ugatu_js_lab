<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />
	<title>Шарипов И.Р. ПИ-322</title>
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" />
	<link rel="stylesheet" href="../style.css">

	<script src="../jquery.js"></script>
</head>

<body>
	<div class="wrapper">
		<div class="container">
			<div class="pb-4 text-center border-bottom">
				<h2 class="fw-bold">Шарипов Ильян Рустемович</h1>
					<h3 class="mt-3 pb-3">Группа ПИ-322
				</h2>
				<a href="https://github.com/Shar1pov/ugatu_js_lab" target="_blank"
					class="btn btn-primary btn-sm px-4 me-sm-3">
					Ссылка на репозиторий GitHub
				</a>
				<a href="/lab3" class="btn btn-outline-secondary btn-sm px-4">Все задания</a>
			</div>

			<div class="py-5 border-bottom">
				<p class="fw-bold">Задание №1</p>

				<div class="row pb-5">
					<div class="col-lg-12">
						<div class="posts"></div>
					</div>
				</div>

			</div>
			<a href="lab2.html" class="btn btn-outline-primary btn-sm mt-3">Следующее задание</a>
		</div>
	</div>

	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
		crossorigin="anonymous"></script>
	<script>
		$(document).ready(function () {
			morePosts();

			$(document).on('click', '#getMorePosts', function () {
				let lastPost = $('.posts-item').last().attr('id').replace(/\D/g, '');
				morePosts(lastPost);
			});

			function morePosts(tek) {
				$.ajax({
					url: "get_posts.php",
					type: "POST",
					data: {
						tek: tek,
						kol: 5,
					},
					success: function (posts_data) {
						$("#getMorePosts").remove();
						if (posts_data) {
							$(".posts").append(posts_data);
						}
					}
				});
			}
		});
	</script>

</body>

</html>